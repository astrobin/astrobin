{% load i18n %}
{% load static %}
{% load astrobin_apps_iotd_tags %}
{% load astrobin_apps_notifications_tags %}
{% load astrobin_apps_premium_tags %}
{% load common_tags %}
{% load bootstrap_toolkit %}

<div class="modal hide fade" id="notifications-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3>{% trans "Notifications" %}</h3>
    </div>

    <div class="modal-body">
        <table class="table table-condensed table-striped notifications-modal">
            <tbody>
            <template id="notification-row-template">
                <tr class="notification-item notification-unread" data-id="">
                    <td class="notification-state">
                        <div class="state-indicator"></div>
                    </td>
                    <td class="notification-content"></td>
                    <td class="notification-date"><abbr class="timestamp" data-epoch="">...</abbr></td>
                    <td class="notification-mark-as-read">
                        <a href="#"><i class="icon icon-ok"></i></a>
                        <div class="loading">
                            <div class="ld ld-ring ld-spin"></div>
                        </div>
                    </td>
                </tr>
            </template>

            <tr class="no-new-notifications">
                <td colspan="4">
                    {% trans "You have no new notifications." %}
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="modal-footer">
        <a class="btn btn-primary" href="{% url 'astrobin_apps_notifications.all' %}">
            {% trans "View all" %}
        </a>

        {% if READONLY_MODE %}
            <a class="btn disabled" href="#readonly-mode-modal" data-toggle="modal">
        {% else %}
            <a class="btn" href="{% url 'astrobin_apps_notifications.settings' %}">
        {% endif %}
        {% trans "Settings" %}
        </a>

        {% if READONLY_MODE %}
            <a class="btn disabled" href="#readonly-mode-modal" data-toggle="modal">
                <i class="icon-exclamation-sign"></i>
                {% trans "Mark all as read" %}
                {% button_loading_indicator %}
            </a>
        {% else %}
            <button class="btn btn-danger {% button_loading_class %}" id="mark-all-notifications-as-read" disabled="disabled">
                <i class="icon-exclamation-sign"></i>
                {% trans "Mark all as read" %}
                {% button_loading_indicator %}
            </button>
        {% endif %}
    </div>
</div>

<div class="modal hide fade" id="readonly-mode-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3>{% trans "AstroBin is in READ ONLY mode" %}</h3>
    </div>

    <div class="modal-body">
        {% include 'readonly_mode.html' %}
    </div>
</div>

<div class="modal hide fade" id="feature-restricted-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3>{% trans "Sorry :-(" %}</h3>
    </div>

    <div class="modal-body">
        <div class="row-fluid">
            <div class="span3 visible-desktop">
                <img src="{% static 'astrobin/images/red-lock.png' %}" alt="{% trans 'Access denied' %}" />
            </div>
            <div class="span9 upgrade-info">
                <p>{% trans "This feature is only offered at higher membership levels." %}</p>
                <p>{% trans "Would you be interested in upgrading? AstroBin is a very small business and your support would mean a lot!" %}</p>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button data-dismiss="modal" class="btn btn-secondary">{% trans "No, thanks" %}</button>
        <a href="https://welcome.astrobin.com/pricing" target="_blank" class="btn btn-primary">
            {% trans "Tell me more!" %}
        </a>
    </div>
</div>

<div class="modal hide fade" id="feature-restricted-to-ultimate-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3>{% trans "Sorry :-(" %}</h3>
    </div>

    <div class="modal-body">
        <div class="row-fluid">
            <div class="span3 visible-desktop">
                <img src="{% static 'astrobin/images/red-lock.png' %}" alt="{% trans 'Access denied' %}" />
            </div>
            <div class="span9 upgrade-info">
                <p>{% trans "This feature is only offered at the AstroBin Ultimate membership level." %}</p>
                <p>{% trans "Would you be interested in upgrading? AstroBin is a very small business and your support would mean a lot!" %}</p>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button data-dismiss="modal" class="btn btn-secondary">{% trans "No, thanks" %}</button>
        <a href="https://welcome.astrobin.com/pricing" target="_blank" class="btn btn-primary">
            {% trans "Tell me more!" %}
        </a>
    </div>
</div>

<div class="modal hide fade" id="posting-restricted-to-members-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3>{% trans "Sorry :-(" %}</h3>
    </div>

    <div class="modal-body">
        <div class="row-fluid">
            <div class="span3 visible-desktop">
                <img src="{% static 'astrobin/images/red-lock.png' %}" alt="{% trans 'Access denied' %}" />
            </div>
            <div class="span9 upgrade-info">
                <p>{% trans "Only group members can post in a group's forum." %}</p>
                <p>{% trans "Please join or request to join the group, and then you'll be able to post a new topic." %}</p>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button data-dismiss="modal" class="btn btn-primary">{% trans "OK" %}</button>
    </div>
</div>

{% if valid_usersubscription|can_remove_ads %}
    <div class="modal hide fade" id="remove-ads-modal">
        <div class="modal-header">
            <a class="close" data-dismiss="modal">&times;</a>
            <h3><i class="icon-question-sign"></i> {% trans "Are you really sure?" %}</h3>
        </div>
        <div class="modal-body">
            <p>
                {% blocktrans trimmed %}
                    We know, we're all used to the fact that ads on the Internet are annoying.
                {% endblocktrans %}

                {% blocktrans trimmed %}However, please let us offer you a good reason to allow ads on AstroBin:
                {% endblocktrans %}
            </p>

            <ul>
                <li>
                    {% blocktrans trimmed %}
                        There are only astronomy ads on AstroBin, that are published after my review and approval.
                        Nothing fishy, nothing off-topic, and nothing that will use any of your private information.
                    {% endblocktrans %}
                </li>
            </ul>

            <p>
                {% url 'profile_edit_preferences' as profile_url %}
                {% blocktrans trimmed %}
                    If you still feel that you would rather not see these ads, you can change this on
                    <a href="{{ profile_url }}">your settings page</a>.
                {% endblocktrans %}
            </p>

            <p>
                {% trans "Thank you!" %}
            </p>
        </div>

        <div class="modal-footer">
            <a class="btn btn-secondary" data-dismiss="modal">{% trans "Cancel" %}</a>
        </div>
    </div>
{% endif %}

<div class="modal hide fade" id="shadow-ban-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3><i class="icon-ban-circle"></i> {% trans "Are you really sure?" %}</h3>
    </div>
    <div class="modal-body">
        <p>
            {% blocktrans trimmed %}
                If this user has been harassing you, and you shadow-ban them, all their activities on your content will
                be invisible to everyone except themselves.
            {% endblocktrans %}
        </p>

        <p>
            {% blocktrans trimmed %}
                They will not know that they have been shadow-banned, and the goal is that eventually they will get
                bored while having caused no harm, since nobody saw what they posted.
            {% endblocktrans %}
        </p>
    </div>
    <div class="modal-footer">
        <form action="{% url 'profile_shadow_ban' %}" method="post">
            <input type="hidden" name="userPk" id="userPk" value="" />
            <input type="hidden" name="next" id="next" value="{{ request.path }}" />
            <button class="btn btn-secondary btn-block-mobile" data-dismiss="modal">{% trans "Cancel" %}</button>
            <button type="submit" class="btn btn-primary btn-block-mobile {% button_loading_class %}">
                {% trans 'Continue' %}
                {% button_loading_indicator %}
            </button>
        </form>
    </div>
</div>

<div class="modal hide fade" id="this-operation-will-reload-page-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3><i class="icon-warning-sign"></i> {% trans "Warning!" %}</h3>
    </div>
    <div class="modal-body">
        <p>
            {% blocktrans trimmed %}This operation will reload the current page.{% endblocktrans %}
            {% blocktrans trimmed %}If you have any unsaved information in a form, it will be lost.{% endblocktrans %}
        </p>

        <p>
            {% blocktrans trimmed %}
                You can also dismiss this window, and your operation will be applied at the next page navigation.
            {% endblocktrans %}
        </p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-secondary btn-block-mobile" data-dismiss="modal">{% trans "Cancel" %}</button>
        <button onclick="
                        $(this).attr('disabled', 'disabled').addClass('btn-disabled running');
                        setTimeout(function () {location.reload(); }, 500)"
                class="btn btn-primary btn-block-mobile {% button_loading_class %}">
            {% trans 'Continue' %}
            {% button_loading_indicator %}
        </button>
    </div>
</div>

<div class="modal hide fade" id="this-operation-cannot-be-undone-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3><i class="icon-warning-sign"></i> {% trans "Warning!" %}</h3>
    </div>
    <div class="modal-body">
        <p>
            {% blocktrans trimmed %}This operation cannot be undone!{% endblocktrans %}
        </p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-secondary btn-block-mobile" data-dismiss="modal">{% trans "Cancel" %}</button>
        <button class="btn btn-danger btn-continue btn-block-mobile {% button_loading_class %}">
            <i class="icon-warning-sign"></i>
            {% trans 'Continue' %}
            {% button_loading_indicator %}
        </button>
    </div>
</div>

<div class="modal hide fade" id="are-you-sure-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3><i class="icon-warning-sign"></i> {% trans "Are you sure?" %}</h3>
    </div>
    <div class="modal-body">
        <p>
        </p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-secondary btn-block-mobile" data-dismiss="modal">{% trans "Cancel" %}</button>
        <button class="btn btn-danger btn-i-am-sure btn-block-mobile {% button_loading_class %}">
            <i class="icon-warning-sign"></i>
            {% trans 'Yes, I am sure' %}
            {% button_loading_indicator %}
        </button>
    </div>
</div>

<div class="modal hide fade" id="report-abuse-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3><i class="icon-flag"></i> {% trans "Report abuse" %}</h3>
    </div>
    <div class="modal-body">
        <p class="alert alert-info">
            {% blocktrans trimmed %}
                When you report abuse on some content on AstroBin, the content will be hidden until a moderator reviews
                it. Abuse reports are anonymous and the content's owner will not be notified.
            {% endblocktrans %}
        </p>

        <p>
            {% blocktrans trimmed %}
                Please specify a reason for this abuse report.
            {% endblocktrans %}
        </p>

        <form class="form-vertical">
            {{ abuse_report_form | as_bootstrap }}
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-secondary btn-block-mobile" data-dismiss="modal">{% trans "Cancel" %}</button>
        <button class="btn btn-primary btn-block-mobile {% button_loading_class %}" disabled="disabled">
            {% trans 'Report abuse' %}
            {% button_loading_indicator %}
        </button>
    </div>
</div>

<div class="modal hide fade" id="fancybox-settings-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3><i class="icon-cog"></i> {% trans "Slideshow settings" %}</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <div class="control-group">
                <div class="controls">
                    <label for="id_slideshow_autoplay" class="checkbox">
                        <input type="checkbox" id="id_slideshow_autoplay" />
                        {% trans "Autoplay" %}
                    </label>
                </div>
            </div>


            <div class="control-group">
                <div class="controls">
                    <label for="id_slideshow_transitions" class="checkbox">
                        <input type="checkbox" id="id_slideshow_transitions" />
                        {% trans "Transitions" %}
                    </label>
                </div>
            </div>

            <div class="control-group">
                <label for="id_slideshow_play_speed" class="control-label">
                    {% trans "Play speed" %} (ms)
                </label>
                <div class="controls">
                    <input type="number" step="1" id="id_slideshow_play_speed" />
                </div>
            </div>

            <div class="control-group">
                <label for="id_slideshow_share" class="control-label">
                    {% trans "Share (current image)" %}
                </label>
                <div class="controls">
                    <pre id="id_slideshow_share"></pre>
                </div>
            </div>

            <div class="control-group">
                <label for="id_slideshow_share_beginning" class="control-label">
                    {% trans "Share (beginning)" %}
                </label>
                <div class="controls">
                    <pre id="id_slideshow_share_beginning"></pre>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-secondary btn-block-mobile" data-dismiss="modal">{% trans "Cancel" %}</button>
        <button class="btn btn-primary btn-block-mobile">
            {% trans 'Apply' %}
        </button>
    </div>
</div>

<div class="modal hide fade large" id="iotd-stats-modal">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3><i class="icon-bar-chart"></i> {% trans "IOTD/TP stats" %}</h3>
    </div>
    <div class="modal-body">
        {% iotd_stats as iotd_stats_dict %}

        {% if iotd_stats_dict %}
            <p class="alert alert-info">
                <strong>{% trans "Please note" %}:</strong>
                {% blocktrans trimmed with days=iotd_stats_dict.days %}
                    The following tables pertain the last {{ days }} days and update every 24 hours.
                {% endblocktrans %}
            </p>

            <h3>{% trans "Distribution of astrophotographers" %}</h3>

            <table class="table table-condensed iotd-stats-table">
                <caption>
                    {% blocktrans trimmed %}
                        This table shows the number of distinct astrophotographers who have been assigned and IOTD/TP award
                        compared to the total number of images awarded.
                    {% endblocktrans %}
                </caption>
                <thead>
                <tr>
                    <th>&nbsp;</th>
                    <th>{% trans "Distinct awarded users" %}</th>
                    <th>{% trans "Total awarded images" %}</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th>{% trans "Image of the day" %}</th>
                    <td>{{ iotd_stats_dict.distinct_iotd_winners }}</td>
                    <td>{{ iotd_stats_dict.total_iotds }}</td>
                </tr>
                <tr>
                    <th>{% trans "Top picks" %}</th>
                    <td>{{ iotd_stats_dict.distinct_tp_winners }}</td>
                    <td>{{ iotd_stats_dict.total_tps }}</td>
                </tr>
                <tr>
                    <th>{% trans "Top pick nominations" %}</th>
                    <td>{{ iotd_stats_dict.distinct_tpn_winners }}</td>
                    <td>{{ iotd_stats_dict.total_tpns }}</td>
                </tr>
                </tbody>
            </table>

            <h3>{% trans "Distribution of subject types" %}</h3>

            <table class="table table-condensed iotd-stats-table">
                <caption>
                    {% blocktrans trimmed %}
                        This table shows the distribution of awards per subject type, compared to the popularity of images
                        of that subject type.
                    {% endblocktrans %}
                </caption>
                <thead>
                <tr>
                    <th>&nbsp;</th>
                    <th>{% trans "Image of the day" %}</th>
                    <th>{% trans "Top pick" %}</th>
                    <th>{% trans "Top pick nominations" %}</th>
                    <th>{% trans "Total submitted" %}</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th>{% trans "Deep sky" %}</th>
                    <td>{{ iotd_stats_dict.deep_sky_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.deep_sky_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.deep_sky_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_deep_sky_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Solar system" %}</th>
                    <td>{{ iotd_stats_dict.solar_system_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.solar_system_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.solar_system_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_solar_system_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Extremely wide field" %}</th>
                    <td>{{ iotd_stats_dict.wide_field_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.wide_field_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.wide_field_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_wide_field_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Star trails" %}</th>
                    <td>{{ iotd_stats_dict.star_trails_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.star_trails_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.star_trails_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_star_trails_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Northern lights" %}</th>
                    <td>{{ iotd_stats_dict.northern_lights_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.northern_lights_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.northern_lights_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_northern_lights_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Noctilucent clouds" %}</th>
                    <td>{{ iotd_stats_dict.noctilucent_clouds_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.noctilucent_clouds_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.noctilucent_clouds_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_noctilucent_clouds_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                </tbody>
            </table>

            <h3>{% trans "Distribution of data sources" %}</h3>

            <table class="table table-condensed iotd-stats-table">
                <caption>
                    {% blocktrans trimmed %}
                        This table shows the distribution of awards per data source, compared to the popularity of images
                        acquired from that data source.
                    {% endblocktrans %}
                </caption>
                <thead>
                <tr>
                    <th>&nbsp;</th>
                    <th>{% trans "Image of the day" %}</th>
                    <th>{% trans "Top pick" %}</th>
                    <th>{% trans "Top pick nominations" %}</th>
                    <th>{% trans "Total submitted" %}</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th>{% trans "Backyard" %}</th>
                    <td>{{ iotd_stats_dict.backyard_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.backyard_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.backyard_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_backyard_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Traveller" %}</th>
                    <td>{{ iotd_stats_dict.traveller_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.traveller_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.traveller_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_traveller_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Own remote observatory" %}</th>
                    <td>{{ iotd_stats_dict.own_remote_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.own_remote_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.own_remote_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_own_remote_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Amateur hosting facility" %}</th>
                    <td>{{ iotd_stats_dict.amateur_hosting_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.amateur_hosting_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.amateur_hosting_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_amateur_hosting_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Public amaeteur data" %}</th>
                    <td>{{ iotd_stats_dict.public_amateur_data_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.public_amateur_data_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.public_amateur_data_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_public_amateur_data_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Professional, scientific grade data" %}</th>
                    <td>{{ iotd_stats_dict.pro_data_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.pro_data_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.pro_data_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_pro_data_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Mix of multiple sources" %}</th>
                    <td>{{ iotd_stats_dict.mix_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.mix_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.mix_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_mix_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Other" %}</th>
                    <td>{{ iotd_stats_dict.other_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.other_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.other_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_other_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                <tr>
                    <th>{% trans "Unknown" %}</th>
                    <td>{{ iotd_stats_dict.unknown_iotds|percentage:iotd_stats_dict.total_iotds|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.unknown_tps|percentage:iotd_stats_dict.total_tps|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.unknown_tpns|percentage:iotd_stats_dict.total_tpns|floatformat:2 }}%</td>
                    <td>{{ iotd_stats_dict.total_unknown_images|percentage:iotd_stats_dict.total_submitted_images|floatformat:2 }}%</td>
                </tr>
                </tbody>
            </table>
        {% else %}
            <p class="alert alert-info">
                <strong>{% trans "Please note" %}:</strong>
                {% blocktrans trimmed %}
                    This data is not available right now. Please try again in a few minutes, thanks!
                {% endblocktrans %}
            </p>
        {% endif %}
    </div>
    <div class="modal-footer">
        <button class="btn btn-secondary btn-block-mobile" data-dismiss="modal">{% trans "Close" %}</button>
    </div>
</div>
